<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Web Folktales</title>
    <script src="https://cdn.jsdelivr.net/npm/three@0.118.3/build/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css">
    <!-- <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.lime-pink.min.css">
    <script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script> -->
    <script src="index.js" type="module" defer></script>
</head>

<body>
    <div id="loading" class="text-center bg-dark text-light d-flex fixed-top align-items-center justify-content-center"
        style="width:100vw;height:100vh;z-index:9999!important;">
        <div>
            <div id="loading-progress">
                <p>Loading <strong>Web Folktales</strong></p>
                <div class="progress" style="height:4px;">
                    <div class="progress-bar" role="progressbar" style="background-color:#cddc39;width:0%;" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
                  </div>
            </div>
            <p id="start-game" style="display: none;">
                <span class="device-play-verb"></span> anywhere to begin
            </p>
        </div>
    </div>
    <script>
        function setProgress(jqProg, valPercent) {
            // Only adjust to increase the progress!
            if (parseInt(jqProg.attr("aria-valuenow")) < valPercent * 100) {
                jqProg.css("width", `${valPercent * 100}%`)
                    .attr("aria-valuenow", valPercent * 100);
            }
        }

        $.ready.then(() => {
            // Start random progress ticking
            const bar = $("#loading-progress .progress-bar"); 
            setTimeout(() => setProgress(bar, 0.12), 30);
            setTimeout(() => setProgress(bar, 0.22), 150);
            setTimeout(() => setProgress(bar, 0.39), 260);
            setTimeout(() => setProgress(bar, 0.46), 360);
            setTimeout(() => setProgress(bar, 0.66), 860);
        })
    </script>
</body>

</html>